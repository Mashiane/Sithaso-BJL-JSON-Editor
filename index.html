<!DOCTYPE html>
<html lang="en" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sithaso BJL / JSON Editor</title>
    <!-- Tailwind CSS 4 + DaisyUI 5 -->
    <link href="styles/daisyui.min.css" rel="stylesheet" type="text/css" />
    <link href="styles/remixicon.css" rel="stylesheet">
    <link href="styles/jsoneditor.min.css" rel="stylesheet" type="text/css">
    <script src="scripts/jsoneditor.min.js"></script>
    <script src="scripts/sweetalert2.js"></script>
    <script src="scripts/tailwind.min.js"></script>
    <script src="scripts/pako.min.js"></script>
    <script src="scripts/SithasoLayoutEngine.js"></script>
    <script src="scripts/SithasoBJLTree.js"></script>
    <script src="scripts/SithasoBJLDesigner.js"></script>
    <style>
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            background: #f4f4f4;
            margin: 0;
            padding: 25px;
            overflow: hidden;
            box-sizing: border-box;
        }

        [data-theme='dark'] body {
            background: #121212;
        }
    </style>
</head>

<body>
    <bjl-designer id="designer" class="card shadow-md"
        style="width: calc(100vw - 50px); height: calc(100vh - 50px);"></bjl-designer>

    <script>
        async function loadSchemas(engine) {
            const components = [
                "SDUI5Accordion", "SDUI5AdvancedCheckGroup", "SDUI5Alert", "SDUI5ApexChart", "SDUI5Avatar",
                "SDUI5AvatarGroup", "SDUI5Badge", "SDUI5BankCard", "SDUI5BarCode", "SDUI5BarcodeReader",
                "SDUI5BasicLabel", "SDUI5BottomDrawer", "SDUI5BreadCrumbs", "SDUI5Browser", "SDUI5Button",
                "SDUI5Card", "SDUI5Carousel", "SDUI5CarouselItem", "SDUI5ChatBubble", "SDUI5ChatItem",
                "SDUI5CheckBox", "SDUI5CheckBoxGroup", "SDUI5Code", "SDUI5Collapse", "SDUI5Column",
                "SDUI5Component", "SDUI5Container", "SDUI5ContextMenu", "SDUI5Conversation", "SDUI5CountDown",
                "SDUI5DatePickerTimeLine", "SDUI5Device", "SDUI5Diff", "SDUI5Divider", "SDUI5Dock",
                "SDUI5Drawer", "SDUI5DrawerUser", "SDUI5DropDown", "SDUI5DropZone", "SDUI5EasyMDE",
                "SDUI5EmojiMart", "SDUI5FAIconPicker", "SDUI5Fab", "SDUI5FieldSet", "SDUI5FileInput",
                "SDUI5Filter", "SDUI5Footer", "SDUI5FooterTitle", "SDUI5Form", "SDUI5FullCalendar",
                "SDUI5GenderChart", "SDUI5GroupSelect", "SDUI5Hero", "SDUI5Hover3D", "SDUI5HoverGallery",
                "SDUI5Image", "SDUI5Indicator", "SDUI5InfoCard", "SDUI5Join", "SDUI5JsonEditor",
                "SDUI5JsonTree", "SDUI5KanBan", "SDUI5Kbd", "SDUI5Label", "SDUI5Leaflet",
                "SDUI5Link", "SDUI5List", "SDUI5ListItem", "SDUI5Loading", "SDUI5LottiePlayer",
                "SDUI5Menu", "SDUI5MenuItem", "SDUI5Modal", "SDUI5MultiSelect", "SDUI5NavBar",
                "SDUI5OTP", "SDUI5OfficeRibbon", "SDUI5PDFViewer", "SDUI5Page", "SDUI5Panel",
                "SDUI5Phone", "SDUI5Pivot", "SDUI5Preferences", "SDUI5Progress", "SDUI5QRCode",
                "SDUI5QuillEditor", "SDUI5RadialProgress", "SDUI5Radio", "SDUI5RadioGroup", "SDUI5Range",
                "SDUI5Rating", "SDUI5Row", "SDUI5Segment", "SDUI5Select", "SDUI5SignaturePad",
                "SDUI5Skeleton", "SDUI5Slider", "SDUI5SliderItem", "SDUI5SpeedDial", "SDUI5Stack",
                "SDUI5Stat", "SDUI5StatItem", "SDUI5Status", "SDUI5Steps", "SDUI5StepsItem",
                "SDUI5Svg", "SDUI5Swap", "SDUI5Swiper", "SDUI5SwiperSlide", "SDUI5Table",
                "SDUI5Tabs", "SDUI5TabsItem", "SDUI5Text", "SDUI5TextArea", "SDUI5TextBox",
                "SDUI5Timeline", "SDUI5TimelineItem", "SDUI5Toast", "SDUI5ToastChart", "SDUI5Toggle",
                "SDUI5ToolTip", "SDUI5TreeSpider", "SDUI5TreeView", "SDUI5TrendChart", "SDUI5VideoPlayer",
                "SDUI5WhatsApp", "SDUI5Window", "SDUI5Wizard"
            ];

            const urls = components.map(c => `./json/${c}.json`);
            try {
                await engine.addSchemas(urls);
                console.log(`Successfully loaded ${components.length} component schemas.`);
            } catch (err) {
                console.error("Failed to load component schemas:", err);
            }
        }

        // Simple plug-and-play usage
        const designer = document.getElementById('designer');
        const engine = new window.SithasoLib.Engine();
        designer.engine = engine;

        // Load all schemas on startup
        loadSchemas(engine);
    </script>
</body>

</html>